@model AddPostVm 


    <form method="post" action="@Url.Action("Post")" class="mt-3" id="addPostForm">

        <input type="hidden" name="@nameof(Model.StatementId)" value="@Model.StatementId" />
        <input type="hidden" name="@nameof(Model.ReplyTo)" value="@Model.ReplyTo" />

        <div class="input-group">

            <div class="form-floating">
                <textarea name="@nameof(Model.Message)" @(Session.GetString("Username") == null ? "onclick=openLoginModal()" : "" ) 
                          class="form-control border-primary dark-textarea"
                          placeholder="Leave a comment here"
                          id="floatingTextarea">@Model.Message</textarea>
                <label for="floatingTextarea">add your comment..</label>
                <div id="mentions-context-menu" >
                </div>
            </div>


            <button class="btn btn-primary" 
                @(ViewData["IsModal"] == "true" ? 
                    "type=button onclick=timeline.postStatementUpdate(this)" : 
                    "type=submit")>
                <i class="bi bi-feather"></i>
                Post
            </button>

        </div>


    </form>




    <script>

        $(document).ready(function () {
            MentionContextPopup.init({
                textareaSelector: "#floatingTextarea",
                contextMenuSelector: "#mentions-context-menu",
                fetchUsersUrl: "@Url.Action("GetUserSuggestions", "BackEnd")"
            });
        });

    </script>

